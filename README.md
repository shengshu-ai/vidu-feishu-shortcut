# é£ä¹¦å¿«æ·æŒ‡ä»¤é¡¹ç›® - é›†æˆVidu API

è¿™æ˜¯ä¸€ä¸ªé£ä¹¦å¿«æ·æŒ‡ä»¤é¡¹ç›®ï¼Œé›†æˆäº†Vidu APIï¼Œæ”¯æŒå›¾ç”Ÿè§†é¢‘ã€å‚è€ƒç”Ÿè§†é¢‘ã€é¦–å°¾å¸§ç”Ÿè§†é¢‘ç­‰åŠŸèƒ½ã€‚

## é¡¹ç›®ç‰¹æ€§

- ğŸš€ åŸºäºé£ä¹¦å¿«æ·æŒ‡ä»¤FaaSæ¶æ„
- ğŸ¥ é›†æˆVidu APIï¼Œæ”¯æŒå¤šç§è§†é¢‘ç”Ÿæˆæ–¹å¼
- ğŸ”§ æ”¯æŒNode.js 14.21.0è¿è¡Œç¯å¢ƒ
- ğŸ“¦ Dockerå®¹å™¨åŒ–éƒ¨ç½²ï¼Œæ”¯æŒæœ¬åœ°å¼€å‘è°ƒè¯•
- ğŸŒ æ”¯æŒå›¾ç”Ÿè§†é¢‘(img2video)ã€å‚è€ƒç”Ÿè§†é¢‘(reference2video)ã€é¦–å°¾å¸§ç”Ÿè§†é¢‘(start-end2video)

## æŠ€æœ¯æ ˆ

- **è¿è¡Œæ—¶**: Node.js 14.21.0
- **å¼€å‘è¯­è¨€**: TypeScript
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **æ¡†æ¶**: @lark-opdev/block-basekit-server-api

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Docker
- Docker Compose

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <your-repo-url>
cd feishu-shortcut
```

### 2. å¯åŠ¨å¼€å‘ç¯å¢ƒ

```bash
# æ„å»ºå¹¶å¯åŠ¨Dockerå®¹å™¨
make up

# æˆ–è€…æ‰‹åŠ¨æ‰§è¡Œ
docker-compose up -d
```

### 3. æŸ¥çœ‹è¿è¡ŒçŠ¶æ€

```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
make logs
```

### 4. è¿›å…¥å®¹å™¨å¼€å‘

```bash
# è¿›å…¥å®¹å™¨shell
make shell

# å®‰è£…ä¾èµ–ï¼ˆå¦‚æœéœ€è¦ï¼‰
make install
```

## Dockerå‘½ä»¤

é¡¹ç›®æä¾›äº†ä¾¿æ·çš„Makefileå‘½ä»¤ï¼š

```bash
make help      # æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
make build     # æ„å»ºDockeré•œåƒ
make up        # å¯åŠ¨å¼€å‘ç¯å¢ƒ
make down      # åœæ­¢å¼€å‘ç¯å¢ƒ
make restart   # é‡å¯å¼€å‘ç¯å¢ƒ
make logs      # æŸ¥çœ‹å®¹å™¨æ—¥å¿—
make shell     # è¿›å…¥å®¹å™¨shell
make clean     # æ¸…ç†Dockerèµ„æº
make rebuild   # é‡æ–°æ„å»ºå¹¶å¯åŠ¨
```

## é¡¹ç›®ç»“æ„

```
feishu-shortcut/
â”œâ”€â”€ src/                    # æºä»£ç ç›®å½•
â”œâ”€â”€ demo/                   # ç¤ºä¾‹ä»£ç 
â”œâ”€â”€ Dockerfile             # Dockeré•œåƒé…ç½®
â”œâ”€â”€ docker-compose.yml     # Docker Composeé…ç½®
â”œâ”€â”€ package.json           # é¡¹ç›®ä¾èµ–é…ç½®
â”œâ”€â”€ tsconfig.json          # TypeScripté…ç½®
â”œâ”€â”€ Makefile               # ä¾¿æ·å‘½ä»¤
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜
```

## å¼€å‘è¯´æ˜

### æœ¬åœ°å¼€å‘

1. é¡¹ç›®ä½¿ç”¨Dockerå®¹å™¨è¿è¡Œï¼Œç¡®ä¿æœ¬åœ°å·²å®‰è£…Docker
2. æºä»£ç é€šè¿‡volumeæŒ‚è½½ï¼Œæ”¯æŒçƒ­é‡è½½
3. å¼€å‘æ¨¡å¼ä¸‹ä½¿ç”¨nodemonè‡ªåŠ¨é‡å¯æœåŠ¡

### ç”Ÿäº§ç¯å¢ƒ

- ç”Ÿäº§ç¯å¢ƒä½¿ç”¨Node.js 14.21.0
- æ”¯æŒæŒ‰æ’ä»¶+ç§Ÿæˆ·ç»´åº¦éš”ç¦»
- å•å®ä¾‹è§„æ ¼ï¼š1æ ¸1Gå†…å­˜
- è¿è¡Œè¶…æ—¶æ—¶é—´ï¼š15åˆ†é’Ÿ

## APIé›†æˆ

é¡¹ç›®é›†æˆäº†ä»¥ä¸‹Vidu APIæ¥å£ï¼š

- **å›¾ç”Ÿè§†é¢‘** (img2video): å°†é™æ€å›¾ç‰‡è½¬æ¢ä¸ºåŠ¨æ€è§†é¢‘
- **å‚è€ƒç”Ÿè§†é¢‘** (reference2video): åŸºäºå‚è€ƒå›¾ç‰‡ç”Ÿæˆè§†é¢‘
- **é¦–å°¾å¸§ç”Ÿè§†é¢‘** (start-end2video): åŸºäºèµ·å§‹å’Œç»“æŸå¸§ç”Ÿæˆè§†é¢‘

æ”¯æŒçš„æ¨¡å‹ï¼š
- viduq1
- vidu1.5  
- vidu2.0

## è®¸å¯è¯

MIT License

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼ 